(()=>{var t={n:n=>{var a=n&&n.__esModule?()=>n.default:()=>n;return t.d(a,{a}),a},d:(n,a)=>{for(var e in a)t.o(a,e)&&!t.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:a[e]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};(()=>{"use strict";t.r(n);const a=flarum.core.compat.app;var e=t.n(a);function o(t,n){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},o(t,n)}const r=flarum.core.compat["admin/components/ExtensionPage"];var s=t.n(r);const i=flarum.core.compat["admin/app"];var c=t.n(i);const l=flarum.core.compat["common/components/Button"];var p=t.n(l);function u(t,n){var a=c().translator.trans("askvortsov-moderator-warnings.admin."+t,n);return Array.isArray(a)?a.join(""):a}flarum.core.compat["common/components/LoadingIndicator"],flarum.core.compat["common/components/Checkbox"],flarum.core.compat["common/utils/Stream"],flarum.core.compat["common/components/Alert"],flarum.core.compat["common/components/Select"];var d=function(t){var n,a;function e(){for(var n,a=arguments.length,e=new Array(a),o=0;o<a;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).snippets=void 0,n.snippetsData=[],n.blackholeId=void 0,n.tagOptions={},n}a=t,(n=e).prototype=Object.create(a.prototype),n.prototype.constructor=n,o(n,a);var r=e.prototype;return r.oninit=function(n){var a=this;t.prototype.oninit.call(this,n),this.snippets=this.setting("moderate-warnings.snippet");var e=JSON.parse(this.snippets()||"{}");Object.keys(e).forEach((function(t){a.snippetsData.push({name:t,data:e[t]})}))},r.oncreate=function(n){t.prototype.oncreate.call(this,n)},r.content=function(t){var n=this;return m("div",{className:"moderate-warnings-adminPage-container container"},m("h2",null,u("snippet")),m("table",{className:"Table Table--full"},m("thead",null,m("tr",null,m("th",null,u("snippet_key")),m("th",null,u("snippet_content")),m("th",null))),m("tbody",null,this.snippetsData.map((function(t,a){return m("tr",{key:a},m("td",null,m("input",{className:"FormControl",type:"text",value:t.name,onchange:function(t){n.snippetsData[a].name=t.target.value,n.storeSetting()}.bind(n)})),m("td",null,m("textarea",{className:"FormControl",value:t.data,onchange:function(t){n.snippetsData[a].data=t.target.value,n.storeSetting()}.bind(n)},t.data)),m("td",null,m(p(),{onclick:function(){confirm(u("confirm"))&&n.snippetsData.splice(a,1),m.redraw()}.bind(n)},m("i",{className:"fas fa-trash"}))))})),m("tr",null,m("td",null,m(p(),{className:"Button Button--secondary",onclick:this.addRow.bind(this)},u("addRow")))))),m("br",null),this.submitButton())},r.addRow=function(){this.snippetsData.push({name:"",data:""})},r.storeSetting=function(){var t={};this.snippetsData.forEach((function(n){t[n.name]=n.data})),this.snippets(JSON.stringify(t))},e}(s());e().initializers.add("askvortsov/flarum-moderator-warnings",(function(){e().extensionData.for("askvortsov-moderator-warnings").registerPage(d).registerPermission({icon:"fas fa-images",label:e().translator.trans("askvortsov-moderator-warnings.admin.permissions.view_warnings"),permission:"user.viewWarnings"},"moderate",3).registerPermission({icon:"fas fa-edit",label:e().translator.trans("askvortsov-moderator-warnings.admin.permissions.manage_warnings"),permission:"user.manageWarnings"},"moderate",3).registerPermission({icon:"fas fa-times",label:e().translator.trans("askvortsov-moderator-warnings.admin.permissions.delete_warnings"),permission:"user.deleteWarnings"},"moderate",3)}))})(),module.exports=n})();
//# sourceMappingURL=admin.js.map